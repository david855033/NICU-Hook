<!DOCTYPE html>
<html lang="en">
<head>
    <title>NeoVue local dev</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="NeoVue">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script type="text/javascript" src="libraries/jquery-3.2.1.js"></script>
	<link rel="stylesheet" type="text/css" href="libraries/jquery-ui-1.12.1/jquery-ui.min.css">    
    <script type="text/javascript" src="libraries/jquery-ui-1.12.1/jquery-ui.min.js"></script>
    <script type="text/javascript" src="libraries/vue.js"></script>
    <script type="text/javascript" src="libraries/d3.js"></script>
    <script type="text/javascript" src="polyfill.js"></script>
    <link rel="stylesheet" type="text/css" href="css/reset.css">
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <link rel="stylesheet" type="text/css" href="css/style-flow-sheet.css">
</head>
<body>
    <div id="view">
        <div id="left" class="shadow">        
            <div class="leftbox" @click="signIn">
                login
            </div>
            <div class="leftbox">
                select view
            </div>
            <div class="view">
                <div class=viewButton v-for="v in viewList" @click="selectedView=v">{{v}}</div>
                <div class="clear"></div>
            </div>
            <div class="leftbox">
                selectWard
            </div>
            <table id="wardList">
                <tr v-for="row in wardList" @click="updatePatientList(row)">
                    <td>{{row}}</td>
                </tr>
            </table>
            <div class="leftbox">
                selectPatient {{patientList.timeStamp}}
            </div>
            <table id="patientList">
                <tr v-show="patientList.content&&patientList.content.length>0">
                    <th>床號</th>
                    <th>姓名</th>
                    <th>病歷號</th>
                </tr>
                <tr v-for="row in patientList.content" @click="updatePatient(row.patientID)">
                    <td>{{row.bed}}</td>
                    <td>{{row.name}}</td>
                    <td>{{row.patientID}}</td>
                </tr>
            </table>
        </div>
        <div class="main" id="dev" v-show="selectedView=='dev'">
            <div class="rightbox">
                patientData {{dev.patientData.timeStamp}}
            </div>
            <table id="patientData">
                <tr><th>欄位</th><th>內容</th></tr>
                <tr v-show="dev.patientData.content.currentBed"><td>現在床號</td><td>{{dev.patientData.content.currentBed}}</td></tr>
                <tr v-show="dev.patientData.content.patientName"><td>姓名</td><td>{{dev.patientData.content.patientName}}</td></tr>
                <tr v-show="dev.patientData.content.birthDate"><td>生日</td><td>{{dev.patientData.content.birthDate}}</td></tr>
                <tr v-show="dev.patientData.content.gender"><td>性別</td><td>{{dev.patientData.content.gender}}</td></tr>
                <tr v-show="dev.patientData.content.bloodType"><td>血型</td><td>{{dev.patientData.content.bloodType}}</td></tr>
                <tr v-show="dev.patientData.content.currentSection"><td>科別</td><td>{{dev.patientData.content.currentSection}}</td></tr>
                <tr v-show="dev.patientData.content.visitingStaff.name"><td>主治醫師</td><td>{{dev.patientData.content.visitingStaff.name}}</td></tr>
                <tr v-show="dev.patientData.content.visitingStaff.code"><td>燈號</td><td>{{dev.patientData.content.visitingStaff.code}}</td></tr>
                <tr v-show="dev.patientData.content.resident.name"><td>住院醫師</td><td>{{dev.patientData.content.resident.name}}</td></tr>
                <tr v-show="dev.patientData.content.resident.code"><td>燈號</td><td>{{dev.patientData.content.resident.code}}</td></tr>
            </table>
            <div class="rightbox">
                admissionList {{admissionList.timeStamp}}
            </div>
            <table id="admissionList">
                <tr v-show="admissionList.content&&admissionList.content.length>0">
                    <th>住院日期</th>
                    <th>出院日期</th>
                    <th>住院號</th>
                    <th>科部</th>
                </tr>
                <tr v-for="row in admissionList.content" @click="updateCase('',row.caseNo)">
                    <td>{{row.admissionDate}}</td>
                    <td>{{row.dischargeDate}}</td>
                    <td>{{row.caseNo}}</td>
                    <td>{{row.section}}</td>
                </tr>
            </table>
            <div class="rightbox">
                    changeBedSection(last admission) {{dev.changeBedSection.timeStamp}}
            </div>
            <table id="changebed">
                <tr v-show="dev.changeBedSection.content.changeBed&&dev.changeBedSection.content.changeBed.length>0">
                    <th>轉床日期</th>
                    <th>床位</th>
                </tr>
                <tr v-for="row in dev.changeBedSection.content.changeBed">
                    <td>{{row.dateTime}}</td>
                    <td>{{row.bed}}</td>
                </tr>
            </table>
            <table id="changeSection">
                <tr v-show="dev.changeBedSection.content.changeSection&&dev.changeBedSection.content.changeSection.length>0">
                    <th>轉科日期</th>
                    <th>科別</th>
                </tr>
                <tr v-for="row in dev.changeBedSection.content.changeSection">
                    <td>{{row.dateTime}}</td>
                    <td>{{row.section}}</td>
                </tr>
            </table>
            <div class="rightbox">
                consultation {{dev.consultation.timeStamp}}
            </div>
             <table id="consultation">
                <tr v-show="dev.consultation.content&&dev.consultation.content.length>0">
                    <th>住院號</th>
                    <th>序號</th>
                    <th>床位</th>
                    <th>會診科別</th>
                    <th>會診時間</th>
                    <th>完成時間</th>
                    <th>狀態</th>
                    <th>會診醫師</th>
                </tr>
                <tr v-for="row in dev.consultation.content"  @click="updateConsultationReply(selectedPatientID,row.caseNo,row.oseq)">
                    <td>{{row.caseNo}}</td>
                    <td>{{row.oseq}}</td>
                    <td>{{row.bed}}</td>
                    <td>{{row.consultSection}}</td>
                    <td>{{row.consultDateTime}}</td>
                    <td>{{row.completeDateTime}}</td>
                    <td>{{row.status}}</td>
                    <td>{{row.doctors}}</td>
                </tr>
            </table>
            <div class="rightbox">
                consultation Reply {{dev.consultationReply.timeStamp}}
            </div>
             <table id="dev.consultationReply" v-show="dev.consultationReply.content">
                <tr>
                    <th>回覆內容</th>
                </tr>
                <tr>
                    <td v-html="dev.consultationReply.content"></td>
                </tr>
            </table>
            <div class="rightbox">
                consultation pending {{dev.consultationPending.timeStamp}}
            </div>
             <table id="dev.consultationPending">
                <tr v-show="dev.consultationPending.content&&dev.consultationPending.content.length>0">
                    <th>床位</th>
                    <th>會診科別</th>
                    <th>會診時間</th>
                    <th>狀態</th>
                    <th>會診醫師</th>
                </tr>
                <tr v-for="row in dev.consultationPending.content">
                    <td>{{row.bed}}</td>
                    <td>{{row.consultSection}}</td>
                    <td>{{row.consultDateTime}}</td>
                    <td>{{row.status}}</td>
                    <td>{{row.doctors}}</td>
                </tr>
            </table>
            <div class="rightbox">
                surgery {{dev.surgery.timeStamp}}
            </div>
            <table id="surgery">
                <tr v-show="dev.surgery.content&&dev.surgery.content.length>0">
                    <th>手術日期</th>
                    <th>手術名稱</th>
                    <th>醫師名稱</th>
                    <th>醫師燈號</th>
                </tr>
                <tr v-for="row in dev.surgery.content">
                    <td>{{row.date}}</td>
                    <td v-html="row.surgeryName"></td>
                    <td>{{row.doctor.name}}</td>
                    <td>{{row.doctor.code}}</td>
                </tr>
            </table>
            <div class="rightbox">
                7天內order {{dev.order.timeStamp}}
            </div>
            <table id="order">
                <tr v-show="dev.order.content&&dev.order.content.length>0">
                    <th>序號</th>
                    <th>項目</th>
                    <th>檢體</th>
                    <th>REQ</th>
                    <th>開立時間</th>
                    <th>單位</th>
                    <th>狀態</th>
                </tr>
                <tr v-for="row in dev.order.content">
                    <td>{{row.seq}}</td>
                    <td>{{row.item}}</td>
                    <td>{{row.specimen}}</td>
                    <td>{{row.req}}</td>
                    <td>{{row.dateTime}}</td>
                    <td>{{row.unit}}</td>
                    <td>{{row.status}}</td>
                </tr>
            </table>
            <div class="rightbox">
                1月內報告 {{dev.report.timeStamp}}
            </div>
            <table id="report">
                <tr v-show="dev.report.content&&dev.report.content.length>0">
                    <th>partNo</th>
                    <th>病歷號</th>
                    <th>住院號</th>
                    <th>orderSeq</th>
                    <th>項目</th>
                    <th>檢體</th>
                    <th>REQ</th>
                    <th>簽收日期</th>
                    <th>報告日期</th>
                </tr>
                <tr v-for="row in dev.report.content" @click="updateReportContent(row.patientID,row.partNo,row.caseNo,row.orderSeq)">
                    <td>{{row.partNo}}</td>
                    <td>{{row.patientID}}</td>
                    <td>{{row.caseNo}}</td>
                    <td>{{row.orderSeq}}</td>
                    <td>{{row.item}}</td>
                    <td>{{row.specimen}}</td>
                    <td>{{row.req}}</td>
                    <td>{{row.signDate}}</td>
                    <td>{{row.reportDate}}</td>
                </tr>
            </table>
            <div class="rightbox">
                report content {{dev.reportContent.timeStamp}}
            </div>
            <table id="reportContent" v-show="dev.reportContent.content.htmlText">
                <tr>
                    <th>報告內容</th>
                </tr>
                <tr>
                    <td v-html="'<pre>'+dev.reportContent.content.htmlText+'</pre>'"></td>
                </tr>
            </table>
            <div class="rightbox">
                cummulative {{dev.cummulative.timeStamp}}
            </div>
            <div v-show="selectedPatientID">
                <div class="cummulativeButton" v-for="button in dev.availableCummulativeList" @click="dev.selectedCummulativeList=button.queryString; updateCummulative(selectedPatientID,3,dev.selectedCummulativeList);">{{button.item}}</div>
            </div>
            <table id="cummulative" v-show="dev.cummulative.content.colNames">
                <tr>
                    <th v-for="col in dev.cummulative.content.colNames">{{col}}</th>
                </tr>
                <tr v-for="row in dev.cummulative.content.data">
                    <td v-for="col in row">{{col}}</td>
                </tr>
            </table>
            <div class="rightbox">
                生命徵象 {{dev.vitalSign.timeStamp}}
            </div>
             <div v-show="selectedPatientID&&selectedCaseNo">
                <div class="vitalSignButton" v-for="button in dev.availableVitalSignList" @click="dev.selectedVitalSignList=button.queryString; updateVitalSign(selectedPatientID,selectedCaseNo,dev.selectedVitalSignList);">{{button.item}}</div>
            </div>
            <table id="vitalSign" v-show="dev.vitalSign.content.colNames">
                <tr>
                    <th v-for="col in dev.vitalSign.content.colNames">{{col}}</th>
                </tr>
                <tr v-for="row in dev.vitalSign.content.data">
                    <td v-for="col in row">{{col}}</td>
                </tr>
            </table>
        </div>
        <div class="main" id="flow-sheet" v-show="selectedView=='flow-sheet'">
            <div class="header shadow">
                <div class="header-card">header card 1</div>
                <div class="header-card">header card 2</div>
                <div class="header-card">header card 3</div>
            </div>
            <div class="content">
                <div class="tpr shadow">
                            <table>
                                <tr>
                                    <th></th>
                                    <th></th>
                                    <th></th>
                                    <th></th>
                                    <th></th>
                                    <th></th>
                                    <th></th>
                                    <th></th>
                                    <th></th>
                                    <th></th>
                                    <th></th>
                                    <th></th>
                                    <th></th>
                                    <th></th>
                                    <th></th>
                                    <th></th>
                                    <th></th>
                                    <th></th>
                                    <th></th>
                                    <th></th>
                                    <th></th>
                                    <th></th>
                                    <th></th>
                                    <th></th>
                                    <th></th>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                            </table>
                </div>
            </div>
            <div class="footBar shadow">
                <div class="footBarMenu">
                    <div class="closeFootBarButtton" @click="flowSheet.showFootBar=!flowSheet.showFootBar"></div>
                </div>
                <div class="footBarCard"></div>
                <div class="footBarCard"></div>
            </div>
        </div>
    </div>

</body>
<script type="text/javascript" src="server.js"></script>
<!-- <script type="text/javascript" src="fake-server.js"></script>    -->
<script type="text/javascript" src="parser.js"></script>
<script type="text/javascript" src="parser-html.js"></script>
<script type="text/javascript" src="data-manager.js"></script>
<script type="text/javascript" src="model.js"></script>
<script type="text/javascript" src="view-model.js"></script>
<script type="text/javascript" src="view.js"></script>
<script type="text/javascript" src="layout.js"></script>
</html>